<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ingreso</title>
</head>
<body style="background-color:#FFF28C">
    
    <center><h1 id="tituloPrinc" >Spa California</h1></center>
    <center> <p>Ingresa Ahora!</p> </center>   

    <div class="col-md-10 mx-auto col-lg-5">
        <form class="p-4 p-md-5 border rounded-3 bg-dark" id="formCrudLogin">
          <div class="form-floating mb-3">
            <input type="email" class="form-control" id="floatingInput" placeholder="name@example.com">
            <label for="floatingInput">Direccion de Email</label>
          </div>
          <div class="form-floating mb-3">
            <input type="password" class="form-control" id="floatingPassword" placeholder="Password">
            <label for="floatingPassword">Contraseña</label>
          </div>
          <!-- <div class="checkbox mb-3">
            <label>
              <input type="checkbox" value="remember-me"> Remember me
            </label>
          </div> -->
          <button class="w-100 btn btn-lg btn-primary" type="submit">Ingresar</button>
          <hr class="my-4">
          <!-- <small class="text-muted">By clicking Sign up, you agree to the terms of use.</small> -->
          <a href="../Index.html" type="button" class="btn btn-outline-secondary btn-lg px-4">Regresar</a>
        </form>
</body>

</html>


<script type="module">

  // Clase export default, export objeto
  import Usuario, {lista_usuarios} from '../Componentes/Usuario/Modelo.js'
  import GenericUtils from '../Componentes/GenericUtils/GenericUtils.js'

  
  // #region Formulario - Método Submit 

  $('#formCrudLogin').submit(function (e) {
    
    e.preventDefault();

    localStorage.setItem("id_usuario", 1);
    // var prueba = localStorage.getItem("id_usuario");

    // console.log({ prueba });


    window.location.href = "./Administrador/Index.html";




    // var form = $(this).serialize();

    // // Obtiene el id del último elemento de la lista sumándole 1
    // var id_usuario = lista_usuarios.at(-1).id_usuario + 1;
    // // console.log({id_usuario});
    // console.log({form});

    // // ARREGLAR: El Id se va como String y no como Int
    // GenericUtils.addFieldToForm("id_usuario", parseInt(id_usuario), "formCrudLogin");


    // GenericUtils.addFieldToForm("estado_usuario", true, "formCrudLogin");


    // // Convertir los datos del formulario #formCrudLogin
    // // a un objeto JSON
    // // Fuente: https://www.learnwithjason.dev/blog/get-form-values-as-json
    // const data = new FormData(e.target);

    // const jsonValue = Object.fromEntries(data.entries());
    // var nuevo_usuario = new Usuario();

    // console.log({ jsonValue });
    // console.log("jsonValue.nombre: " + jsonValue.nombre);
    // console.log("typeof(jsonValue): " + typeof(jsonValue.id));
    // console.log("typeof($('#id').val()): " + typeof($('#id').val()));

    // // console.log();

    // // Genera el objeto a través del objeto JSON
    // nuevo_usuario = GenericUtils.getObjectFromJson(jsonValue, nuevo_usuario);

    // console.log({ nuevo_usuario });

    // // // Guarda en la "base" el objeto creado y devuelve si salió todo bien
    // var verificacion_guardado = Usuario.saveUser(nuevo_usuario);

    // // // Termina el proceso de guardado de datos

    // // uploadFile();

    // console.log({ verificacion_guardado });
    // console.log({ lista_usuarios });


    // // Si se guardó correctamente el servicio...
    // if (verificacion_guardado) {

    //   localStorage.setItem("id_usuario", "id");
    //   var prueba = localStorage.getItem("id_usuario");

    //   console.log({ prueba });

    // window.location.href = "./Administrador/Index.html";


    // }


  });

  //#endregion


</script>